<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Generic Mapping Tools - Seismic Data &mdash; CUSeisTut</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Seismic data request via ObsPy" href="../obspy-1/index.html" />
    <link rel="prev" title="Generic Mapping Tools - Topographic Map" href="../GMT6-1/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> CUSeisTut
          </a>
              <div class="version">
                0.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">CUSeisTut</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Entry level</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../unix/index.html">Unix commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GMT6-1/index.html">Generic Mapping Tools - Topographic Map</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Generic Mapping Tools - Seismic Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#plotting-earthquake-catalog">Plotting earthquake catalog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preview">Preview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-by-step-explanation">Step-by-Step explanation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#plotting-cross-sections">Plotting cross sections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Preview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#excercises">Excercises</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reproduce-figure-1-in-the-paper">Reproduce figure 1 in the paper</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plot-a-cross-section-plot-based-on-the-catalog-generated-in-the-unix-command-tutorial">Plot a cross-section plot based on the catalog generated in the Unix command tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plot-the-magnitude-variation-figure-refer-to-figure-4b-in-the-paper">Plot the magnitude variation figure. Refer to Figure 4b in the paper</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../obspy-1/index.html">Seismic data request via ObsPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../obspy-2/index.html">Seismic data process via ObsPy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Intermediate level</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sta_lta/index.html">Earthquake Detection STA/LTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../abs_loc/index.html">Earthquake Absolute Location</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced level</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../eqt/index.html">Earthquake Transformer Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dd_loc/index.html">Double-Difference Earthquake Relocation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source_spectra/index.html">Spectral Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pylith_static/index.html">Static Stress Change - PyLith</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pylith_dynamic/index.html">Dynamic Rupture Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../body_tomo/index.html">Body Wave Tomography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../surface_tomo/index.html">Surface Wave Tomography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ambient_tomo/index.html">Ambient noise cross correlation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">Acknowledgement</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.google.com/forms/d/e/1FAIpQLScSQIcOtANjTonJDhK4KYmoA6H2lUHou9Mqz1oFCHSTd5wxhQ/viewform?usp=sf_link">Give us feedback here</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CUSeisTut</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Generic Mapping Tools - Seismic Data</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/GMT6-2/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="generic-mapping-tools-seismic-data">
<h1>Generic Mapping Tools - Seismic Data<a class="headerlink" href="#generic-mapping-tools-seismic-data" title="Permalink to this headline"></a></h1>
<div class="section" id="plotting-earthquake-catalog">
<h2>Plotting earthquake catalog<a class="headerlink" href="#plotting-earthquake-catalog" title="Permalink to this headline"></a></h2>
<div class="section" id="preview">
<h3>Preview<a class="headerlink" href="#preview" title="Permalink to this headline"></a></h3>
<p>The figure below is modified from Figure 2 in <a class="reference external" href="https://doi.org/10.1785/0320210041">this paper</a>.</p>
<a class="reference internal image-reference" href="../_images/catalog.png"><img alt="../_images/catalog.png" src="../_images/catalog.png" style="width: 80%;" /></a>
<p>It is generated using the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="n">gmt</span> <span class="n">begin</span> <span class="n">catalog</span> <span class="n">png</span>
<span class="c1"># the frame</span>
<span class="n">gmt</span> <span class="n">basemap</span> <span class="o">-</span><span class="n">JM15c</span> <span class="o">-</span><span class="n">R115</span><span class="o">/</span><span class="mi">131</span><span class="o">/-</span><span class="mi">13</span><span class="o">/-</span><span class="mi">5</span> <span class="o">-</span><span class="n">Bxa5f1</span> <span class="o">-</span><span class="n">Bya5f1</span> <span class="o">-</span><span class="n">BWeSn</span><span class="o">+</span><span class="n">t</span><span class="s2">&quot;Final catalog&quot;</span> <span class="o">--</span><span class="n">MAP_FRAME_TYPE</span><span class="o">=</span><span class="n">plain</span> <span class="o">--</span><span class="n">FONT_TITLE</span><span class="o">=</span><span class="mi">10</span><span class="n">p</span> <span class="o">--</span><span class="n">MAP_TITLE_OFFSET</span><span class="o">=-</span><span class="mi">8</span><span class="n">p</span>
<span class="c1"># plotting coastline with specify land and sea colours</span>
<span class="n">gmt</span> <span class="n">coast</span> <span class="o">-</span><span class="n">Gwhite</span> <span class="o">-</span><span class="n">Slightblue</span> <span class="o">-</span><span class="n">W0</span><span class="mf">.1</span><span class="n">p</span><span class="p">,</span><span class="n">black</span> <span class="o">-</span><span class="n">Da</span>
<span class="c1"># creating customized colormaps</span>
<span class="n">gmt</span> <span class="n">makecpt</span> <span class="o">-</span><span class="n">Chot</span> <span class="o">-</span><span class="n">T0</span><span class="o">/</span><span class="mi">400</span><span class="o">/</span><span class="mi">10</span> <span class="o">-</span><span class="n">D</span> <span class="o">-</span><span class="n">Z</span> <span class="o">-</span><span class="n">Ic</span> <span class="o">-</span><span class="n">H</span> <span class="o">&gt;</span> <span class="n">depth</span><span class="o">.</span><span class="n">cpt</span>
<span class="n">awk</span> <span class="s1">&#39;{print $9,$8,$10}&#39;</span> <span class="n">banda_arc_catalog</span><span class="o">.</span><span class="n">txt</span> <span class="o">&gt;</span> <span class="n">catalog</span><span class="o">.</span><span class="n">xyz</span>

<span class="c1"># plotting the earthquake data</span>
<span class="n">gmt</span> <span class="n">plot</span> <span class="n">catalog</span><span class="o">.</span><span class="n">xyz</span> <span class="o">-</span><span class="n">Sc0</span><span class="mf">.1</span><span class="n">c</span> <span class="o">-</span><span class="n">Cdepth</span><span class="o">.</span><span class="n">cpt</span>
<span class="c1"># plotting the trench</span>
<span class="n">gmt</span> <span class="n">plot</span> <span class="n">java_trench</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">W1p</span><span class="p">,</span><span class="n">black</span>
<span class="c1"># extracting station data and plot them</span>
<span class="n">awk</span> <span class="s1">&#39;NR&gt;1 {print $5,$6}&#39;</span> <span class="n">GE_3_stations</span><span class="o">.</span><span class="n">txt</span> <span class="o">|</span><span class="n">gmt</span> <span class="n">psxy</span> <span class="o">-</span><span class="n">Si7p</span> <span class="o">-</span><span class="n">W0</span><span class="mf">.01</span><span class="n">p</span><span class="p">,</span><span class="n">black</span> <span class="o">-</span><span class="n">Gblue</span>
<span class="n">awk</span> <span class="o">-</span><span class="sa">F</span><span class="s2">&quot;|&quot;</span> <span class="s1">&#39;NR&gt;3 {print $6,$5}&#39;</span> <span class="n">YS_30_stations</span><span class="o">.</span><span class="n">txt</span> <span class="o">|</span><span class="n">gmt</span> <span class="n">psxy</span> <span class="o">-</span><span class="n">Si7p</span> <span class="o">-</span><span class="n">W0</span><span class="mf">.01</span><span class="n">p</span><span class="p">,</span><span class="n">black</span> <span class="o">-</span><span class="n">Gblack</span>
<span class="c1"># creating a colorbar</span>
<span class="n">gmt</span> <span class="n">colorbar</span> <span class="o">-</span><span class="n">DjBL</span><span class="o">+</span><span class="n">h</span><span class="o">+</span><span class="n">o0</span><span class="mf">.3</span><span class="n">c</span><span class="o">/</span><span class="mf">0.6</span><span class="n">c</span><span class="o">+</span><span class="n">jBL</span><span class="o">+</span><span class="n">w5c</span><span class="o">/</span><span class="mf">0.3</span><span class="n">c</span><span class="o">+</span><span class="n">e</span> <span class="o">-</span><span class="n">By</span><span class="o">+</span><span class="n">l</span><span class="s2">&quot;Depth (km)&quot;</span> <span class="o">-</span><span class="n">Bxa100</span> <span class="o">-</span><span class="n">Cdepth</span><span class="o">.</span><span class="n">cpt</span>
<span class="c1"># plotting text</span>
<span class="n">echo</span> <span class="s2">&quot;128 -12.5 N = 19074&quot;</span> <span class="o">|</span> <span class="n">gmt</span> <span class="n">text</span> <span class="o">-</span><span class="n">F</span><span class="o">+</span><span class="n">f8p</span><span class="p">,</span><span class="n">black</span>
<span class="n">echo</span> <span class="s2">&quot;116 -11.5 Java trench&quot;</span> <span class="o">|</span> <span class="n">gmt</span> <span class="n">text</span> <span class="o">-</span><span class="n">F</span><span class="o">+</span><span class="n">f8p</span><span class="p">,</span><span class="n">black</span>
<span class="n">gmt</span> <span class="n">end</span>
</pre></div>
</div>
<p>To reproduce it by yourself, you may first download or save <a class="reference download internal" download="" href="../_downloads/1ba9796a95c9efaca342deeca20b66ac/banda_arc_catalog.txt"><code class="xref download docutils literal notranslate"><span class="pre">banda_arc_catalog.txt</span></code></a>, <a class="reference download internal" download="" href="../_downloads/7b45cc6eb3242b2f85c9e4f724ab10b8/java_trench.txt"><code class="xref download docutils literal notranslate"><span class="pre">java_trench.txt</span></code></a>, <a class="reference download internal" download="" href="../_downloads/ffe799108d8f6c0457fc7ca20f8fc1f1/GE_3_stations.txt"><code class="xref download docutils literal notranslate"><span class="pre">GE_3_stations.txt</span></code></a>, <a class="reference download internal" download="" href="../_downloads/5fbd80661c0f465641ce83235efb6299/YS_30_stations.txt"><code class="xref download docutils literal notranslate"><span class="pre">YS_30_stations.txt</span></code></a>, and then move these files into your working directory. Try to copy the above commands and run them on your own computer to see if you can generate the same figure without warning or error.</p>
</div>
<div class="section" id="step-by-step-explanation">
<h3>Step-by-Step explanation<a class="headerlink" href="#step-by-step-explanation" title="Permalink to this headline"></a></h3>
<div class="line-block">
<div class="line"><strong>1. gmt basemap -JM15c -R115/131/-13/-5 -Bxa5f1 -Bya5f1 -BWeSn+t”Final catalog” –MAP_FRAME_TYPE=plain –FONT_TITLE=10p –MAP_TITLE_OFFSET=-8p</strong> to plot base maps and frames</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">-JM15c</span></code> specifies the map projection type to be <a class="reference external" href="https://docs.generic-mapping-tools.org/latest/cookbook/map-projections.html#jm">Mercator projection</a>. The width of map is 15c (15 centimeters).</p>
<p><code class="docutils literal notranslate"><span class="pre">-R115/131/-13/-5</span></code> specifies the map range, minimum and maximum longitudes are 115 and 131, minimum and maximum latitudes are -13 -5.</p>
<p><code class="docutils literal notranslate"><span class="pre">-Bxa5f1</span></code> specifies that x axes have ticklabels with interval of 5 and ticks with interval of 1.</p>
<p><code class="docutils literal notranslate"><span class="pre">-Bya5f1</span></code> specifies that y axes have ticklabels with interval of 5 and ticks with interval of 1.</p>
<p><code class="docutils literal notranslate"><span class="pre">-BWeSn+t&quot;Final</span> <span class="pre">catalog&quot;</span></code> specifies that the left and bottom ticklabels are visible, which the right and top ticklabels are invisible, where the <code class="file docutils literal notranslate"><span class="pre">+t&quot;Final</span> <span class="pre">catalog&quot;</span></code> indicates plotting the title “Final catalog”</p>
<p><code class="docutils literal notranslate"><span class="pre">--MAP_FRAME_TYPE=plain</span> <span class="pre">--FONT_TITLE=10p</span> <span class="pre">--MAP_TITLE_OFFSET=-8p</span></code> are the gmt settings. <code class="file docutils literal notranslate"><span class="pre">--MAP_FRAME_TYPE=plain</span></code> specifies the frame type as plain(i.e., simple line); <code class="file docutils literal notranslate"><span class="pre">--FONT_TITLE=10p</span></code> specifies the font of title to be 10p; <code class="file docutils literal notranslate"><span class="pre">--MAP_TITLE_OFFSET=-8p</span></code> specifies the distance between the title with the frame to be -8p.</p>
<a class="reference internal image-reference" href="../_images/catalog01.png"><img alt="../_images/catalog01.png" src="../_images/catalog01.png" style="width: 80%;" /></a>
<div class="line-block">
<div class="line"><strong>2. gmt coast -Gwhite -Slightblue -W0.1p,black -Da</strong> to plot coastline and specify land and sea colours</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">-Gwhite</span></code> specifies fill the dry/land area with white.</p>
<p><code class="docutils literal notranslate"><span class="pre">-Slightblue</span></code> specifies fill the wet/sea/lake area with lightblue.</p>
<p><code class="docutils literal notranslate"><span class="pre">--W0.1p,black</span></code> specifies the line with a witdh of 0.1p and line color of black.</p>
<p><code class="docutils literal notranslate"><span class="pre">-Da</span></code> specifies automatically selects the appropriate data precision based on the size of the current drawing area</p>
<a class="reference internal image-reference" href="../_images/catalog02.png"><img alt="../_images/catalog02.png" src="../_images/catalog02.png" style="width: 80%;" /></a>
<div class="line-block">
<div class="line"><strong>3. gmt makecpt -Chot -T0/400/10 -D -Z -Ic -H &gt; depth.cpt</strong> to make color palette tables</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">-Chot</span></code> specifies the input cpt used is <a class="reference external" href="http://soliton.vm.bytemark.co.uk/pub/cpt-city/gmt/GMT_hot.png">hot</a></p>
<p><code class="docutils literal notranslate"><span class="pre">-Ic</span></code> reverse the CPT</p>
<div class="line-block">
<div class="line"><strong>4. awk ‘{print $9,$8,$10}’ banda_arc_catalog.txt &gt; catalog.xyz</strong></div>
</div>
<div class="line-block">
<div class="line"><strong>5. gmt plot catalog.xyz -Sc0.1c -Cdepth.cpt</strong> to plot earthquake data</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">catalog.xyz</span></code> contains three columns of data. longitude, latitude, and depth. The value of depth column will be used for coloring points based on CPT file.</p>
<a class="reference internal image-reference" href="../_images/catalog03.png"><img alt="../_images/catalog03.png" src="../_images/catalog03.png" style="width: 80%;" /></a>
<div class="line-block">
<div class="line"><strong>6. gmt plot java_trench.txt -W1p,black</strong> to plot the trench line.</div>
</div>
<div class="line-block">
<div class="line"><strong>7. awk ‘NR&gt;1 {print $5,$6}’ GE_3_stations.txt |gmt psxy -Si7p -W0.01p,black -Gblue</strong> to extract station data and plot them</div>
</div>
<div class="line-block">
<div class="line"><strong>8. awk -F”|” ‘NR&gt;3 {print $6,$5}’ YS_30_stations.txt |gmt psxy  -Si7p -W0.01p,black -Gblack</strong> to extract station data and plot them</div>
</div>
<a class="reference internal image-reference" href="../_images/catalog04.png"><img alt="../_images/catalog04.png" src="../_images/catalog04.png" style="width: 80%;" /></a>
<div class="line-block">
<div class="line"><strong>9. gmt colorbar  -DjBL+h+o0.3c/0.6c+jBL+w5c/0.3c+e -By+l”Depth (km)” -Bxa100 -Cdepth.cpt</strong> to plot a colorbar</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">-DjBL+h+o0.3c/0.6c+jBL+w5c/0.3c+e</span></code> specifices the paramter of colorbar. <code class="file docutils literal notranslate"><span class="pre">-DjBL</span></code> means plot color at the Bottom Left; <code class="file docutils literal notranslate"><span class="pre">+h</span></code> means
draw horizontal color scale; <code class="file docutils literal notranslate"><span class="pre">+o0.3c/0.6c</span></code> means plot move the colorbar 0.3 cm in X direction and 0.6 cm in Y Direction; <code class="file docutils literal notranslate"><span class="pre">+w5c/0.3c</span></code> means plot a colorbar with a length of 5 cm and a width of 0.3 cm; <code class="file docutils literal notranslate"><span class="pre">+e</span></code> means add a triangle to the foreground and background colors in the colorbar.</p>
<a class="reference internal image-reference" href="../_images/catalog05.png"><img alt="../_images/catalog05.png" src="../_images/catalog05.png" style="width: 80%;" /></a>
<div class="line-block">
<div class="line"><strong>10. echo “128 -12.5 N = 19074” | gmt text  -F+f8p,black</strong> to plot text</div>
</div>
<div class="line-block">
<div class="line"><strong>11. echo “116 -11.5 Java trench” | gmt text  -F+f8p,black</strong> to plot text</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">-F+f8p,black</span></code> specifices the font size of 8p and color of black</p>
<a class="reference internal image-reference" href="../_images/catalog.png"><img alt="../_images/catalog.png" src="../_images/catalog.png" style="width: 80%;" /></a>
</div>
</div>
<div class="section" id="plotting-cross-sections">
<h2>Plotting cross sections<a class="headerlink" href="#plotting-cross-sections" title="Permalink to this headline"></a></h2>
<div class="section" id="id1">
<h3>Preview<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<p>The figure below is modified from Figure 3 in <a class="reference external" href="https://doi.org/10.1785/0320210041">this paper</a>.</p>
<a class="reference internal image-reference" href="../_images/section.png"><img alt="../_images/section.png" src="../_images/section.png" style="width: 80%;" /></a>
<p>It is generated using the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="c1"># extract data ignoring header, in order : lon, lat, depth, residual</span>
<span class="n">awk</span> <span class="s1">&#39;NR&gt;1 {print $9,$8,$10,$7}&#39;</span> <span class="n">banda_arc_catalog</span><span class="o">.</span><span class="n">txt</span> <span class="o">&gt;</span> <span class="n">extracted</span><span class="o">.</span><span class="n">txt</span>

<span class="n">gmt</span> <span class="n">begin</span> <span class="n">section</span> <span class="n">png</span>
<span class="n">gmt</span> <span class="n">makecpt</span> <span class="o">-</span><span class="n">Cseis</span> <span class="o">-</span><span class="n">T0</span><span class="o">/</span><span class="mi">3</span><span class="o">/</span><span class="mf">0.1</span> <span class="o">-</span><span class="n">D</span> <span class="o">-</span><span class="n">Z</span> <span class="o">-</span><span class="n">H</span> <span class="o">&gt;</span> <span class="n">res</span><span class="o">.</span><span class="n">cpt</span>

<span class="n">gmt</span> <span class="n">subplot</span> <span class="n">begin</span> <span class="mi">3</span><span class="n">x2</span> <span class="o">-</span><span class="n">Fs14c</span><span class="o">/</span><span class="mi">7</span><span class="n">c</span> <span class="o">-</span><span class="n">A</span>
<span class="n">gmt</span> <span class="n">subplot</span> <span class="nb">set</span> <span class="mi">0</span> <span class="c1"># transect along lon = 118</span>
<span class="c1"># project the data within 0.5 degree onto plane</span>
<span class="c1"># output file in order: latitude , depth , residual</span>
<span class="n">gmt</span> <span class="n">project</span> <span class="n">extracted</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">C118</span><span class="o">/-</span><span class="mi">12</span> <span class="o">-</span><span class="n">E118</span><span class="o">/-</span><span class="mi">6</span> <span class="o">-</span><span class="n">Lw</span> <span class="o">-</span><span class="n">W</span><span class="o">-</span><span class="mf">0.5</span><span class="o">/</span><span class="mf">0.5</span> <span class="o">-</span><span class="n">Fyz</span> <span class="o">&gt;</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span>
<span class="n">gmt</span> <span class="n">plot</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">JX14c</span><span class="o">/-</span><span class="mi">7</span><span class="n">c</span> <span class="o">-</span><span class="n">R</span><span class="o">-</span><span class="mi">12</span><span class="o">/-</span><span class="mi">6</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">650</span> <span class="o">-</span><span class="n">BWesn</span> <span class="o">-</span><span class="n">Bya200f40</span><span class="o">+</span><span class="n">l</span><span class="s2">&quot;Depth (km)&quot;</span> <span class="o">-</span><span class="n">Bxa2f0</span><span class="mf">.5</span> <span class="o">-</span><span class="n">Sc4p</span> <span class="o">-</span><span class="n">W0</span><span class="mf">.5</span><span class="n">p</span> <span class="o">-</span><span class="n">Cres</span><span class="o">.</span><span class="n">cpt</span> <span class="c1"># ploting</span>
<span class="n">echo</span> <span class="s2">&quot;lon = 118&quot;</span> <span class="o">|</span> <span class="n">gmt</span> <span class="n">text</span> <span class="o">-</span><span class="n">F</span><span class="o">+</span><span class="n">cBL</span><span class="o">+</span><span class="n">f12p</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">black</span> <span class="o">-</span><span class="n">Dj1c</span><span class="o">/</span><span class="mi">1</span><span class="n">c</span> <span class="c1"># adding text</span>

<span class="n">gmt</span> <span class="n">subplot</span> <span class="nb">set</span> <span class="mi">1</span> <span class="c1"># transect along lon = 120</span>
<span class="c1"># project the data within 0.5 degree onto plane</span>
<span class="c1"># output file in order: latitude , depth , residual</span>
<span class="n">gmt</span> <span class="n">project</span> <span class="n">extracted</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">C120</span><span class="o">/-</span><span class="mi">12</span> <span class="o">-</span><span class="n">E120</span><span class="o">/-</span><span class="mi">6</span> <span class="o">-</span><span class="n">Lw</span> <span class="o">-</span><span class="n">W</span><span class="o">-</span><span class="mf">0.5</span><span class="o">/</span><span class="mf">0.5</span> <span class="o">-</span><span class="n">Fyz</span> <span class="o">&gt;</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span>
<span class="n">gmt</span> <span class="n">plot</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">JX14c</span><span class="o">/-</span><span class="mi">7</span><span class="n">c</span> <span class="o">-</span><span class="n">R</span><span class="o">-</span><span class="mi">12</span><span class="o">/-</span><span class="mi">6</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">650</span> <span class="o">-</span><span class="n">BwEsn</span> <span class="o">-</span><span class="n">Bya200f40</span> <span class="o">-</span><span class="n">Bxa2f0</span><span class="mf">.5</span> <span class="o">-</span><span class="n">Sc4p</span> <span class="o">-</span><span class="n">W0</span><span class="mf">.5</span><span class="n">p</span> <span class="o">-</span><span class="n">Cres</span><span class="o">.</span><span class="n">cpt</span> <span class="c1"># ploting</span>
<span class="n">echo</span> <span class="s2">&quot;lon = 120&quot;</span> <span class="o">|</span> <span class="n">gmt</span> <span class="n">text</span> <span class="o">-</span><span class="n">F</span><span class="o">+</span><span class="n">cBL</span><span class="o">+</span><span class="n">f12p</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">black</span> <span class="o">-</span><span class="n">Dj1c</span><span class="o">/</span><span class="mi">1</span><span class="n">c</span> <span class="c1"># adding text</span>

<span class="n">gmt</span> <span class="n">subplot</span> <span class="nb">set</span> <span class="mi">2</span> <span class="c1"># transect along lon = 122.5</span>
<span class="c1"># project the data within 0.5 degree onto plane</span>
<span class="c1"># output file in order: latitude , depth , residual</span>
<span class="n">gmt</span> <span class="n">project</span> <span class="n">extracted</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">C122</span><span class="mf">.5</span><span class="o">/-</span><span class="mi">12</span> <span class="o">-</span><span class="n">E122</span><span class="mf">.5</span><span class="o">/-</span><span class="mi">6</span> <span class="o">-</span><span class="n">Lw</span> <span class="o">-</span><span class="n">W</span><span class="o">-</span><span class="mf">0.5</span><span class="o">/</span><span class="mf">0.5</span> <span class="o">-</span><span class="n">Fyz</span> <span class="o">&gt;</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span>
<span class="n">gmt</span> <span class="n">plot</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">JX14c</span><span class="o">/-</span><span class="mi">7</span><span class="n">c</span> <span class="o">-</span><span class="n">R</span><span class="o">-</span><span class="mi">12</span><span class="o">/-</span><span class="mi">6</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">650</span> <span class="o">-</span><span class="n">BWesn</span> <span class="o">-</span><span class="n">Bya200f40</span><span class="o">+</span><span class="n">l</span><span class="s2">&quot;Depth (km)&quot;</span> <span class="o">-</span><span class="n">Bxa2f0</span><span class="mf">.5</span> <span class="o">-</span><span class="n">Sc4p</span> <span class="o">-</span><span class="n">W0</span><span class="mf">.5</span><span class="n">p</span> <span class="o">-</span><span class="n">Cres</span><span class="o">.</span><span class="n">cpt</span> <span class="c1"># ploting</span>
<span class="n">echo</span> <span class="s2">&quot;lon = 122.5&quot;</span> <span class="o">|</span> <span class="n">gmt</span> <span class="n">text</span> <span class="o">-</span><span class="n">F</span><span class="o">+</span><span class="n">cBL</span><span class="o">+</span><span class="n">f12p</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">black</span> <span class="o">-</span><span class="n">Dj1c</span><span class="o">/</span><span class="mi">1</span><span class="n">c</span> <span class="c1"># adding text</span>

<span class="n">gmt</span> <span class="n">subplot</span> <span class="nb">set</span> <span class="mi">3</span> <span class="c1"># transect along lon = 124.0</span>
<span class="c1"># project the data within 0.5 degree onto plane</span>
<span class="c1"># output file in order: latitude , depth , residual</span>
<span class="n">gmt</span> <span class="n">project</span> <span class="n">extracted</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">C124</span><span class="mf">.0</span><span class="o">/-</span><span class="mi">12</span> <span class="o">-</span><span class="n">E124</span><span class="mf">.0</span><span class="o">/-</span><span class="mi">6</span> <span class="o">-</span><span class="n">Lw</span> <span class="o">-</span><span class="n">W</span><span class="o">-</span><span class="mf">0.5</span><span class="o">/</span><span class="mf">0.5</span> <span class="o">-</span><span class="n">Fyz</span> <span class="o">&gt;</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span>
<span class="n">gmt</span> <span class="n">plot</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">JX14c</span><span class="o">/-</span><span class="mi">7</span><span class="n">c</span> <span class="o">-</span><span class="n">R</span><span class="o">-</span><span class="mi">12</span><span class="o">/-</span><span class="mi">6</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">650</span> <span class="o">-</span><span class="n">BwEsn</span> <span class="o">-</span><span class="n">Bya200f40</span> <span class="o">-</span><span class="n">Bxa2f0</span><span class="mf">.5</span> <span class="o">-</span><span class="n">Sc4p</span> <span class="o">-</span><span class="n">W0</span><span class="mf">.5</span><span class="n">p</span> <span class="o">-</span><span class="n">Cres</span><span class="o">.</span><span class="n">cpt</span> <span class="c1"># ploting</span>
<span class="n">echo</span> <span class="s2">&quot;lon = 124.0&quot;</span> <span class="o">|</span> <span class="n">gmt</span> <span class="n">text</span> <span class="o">-</span><span class="n">F</span><span class="o">+</span><span class="n">cBL</span><span class="o">+</span><span class="n">f12p</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">black</span> <span class="o">-</span><span class="n">Dj1c</span><span class="o">/</span><span class="mi">1</span><span class="n">c</span> <span class="c1"># adding text</span>

<span class="n">gmt</span> <span class="n">subplot</span> <span class="nb">set</span> <span class="mi">4</span> <span class="c1"># transect along lon = 125.5</span>
<span class="c1"># project the data within 0.5 degree onto plane</span>
<span class="c1"># output file in order: latitude , depth , residual</span>
<span class="n">gmt</span> <span class="n">project</span> <span class="n">extracted</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">C125</span><span class="mf">.5</span><span class="o">/-</span><span class="mi">12</span> <span class="o">-</span><span class="n">E125</span><span class="mf">.5</span><span class="o">/-</span><span class="mi">6</span> <span class="o">-</span><span class="n">Lw</span> <span class="o">-</span><span class="n">W</span><span class="o">-</span><span class="mf">0.5</span><span class="o">/</span><span class="mf">0.5</span> <span class="o">-</span><span class="n">Fyz</span> <span class="o">&gt;</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span>
<span class="n">gmt</span> <span class="n">plot</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">JX14c</span><span class="o">/-</span><span class="mi">7</span><span class="n">c</span> <span class="o">-</span><span class="n">R</span><span class="o">-</span><span class="mi">12</span><span class="o">/-</span><span class="mi">6</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">650</span> <span class="o">-</span><span class="n">BWeSn</span> <span class="o">-</span><span class="n">Bya200f40</span><span class="o">+</span><span class="n">l</span><span class="s2">&quot;Depth (km)&quot;</span> <span class="o">-</span><span class="n">Bxa2f0</span><span class="mf">.5</span> <span class="o">-</span><span class="n">Sc4p</span> <span class="o">-</span><span class="n">W0</span><span class="mf">.5</span><span class="n">p</span> <span class="o">-</span><span class="n">Cres</span><span class="o">.</span><span class="n">cpt</span> <span class="c1"># ploting</span>
<span class="n">echo</span> <span class="s2">&quot;lon = 125.5&quot;</span> <span class="o">|</span> <span class="n">gmt</span> <span class="n">text</span> <span class="o">-</span><span class="n">F</span><span class="o">+</span><span class="n">cBL</span><span class="o">+</span><span class="n">f12p</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">black</span> <span class="o">-</span><span class="n">Dj1c</span><span class="o">/</span><span class="mi">1</span><span class="n">c</span> <span class="c1"># adding text</span>

<span class="n">gmt</span> <span class="n">subplot</span> <span class="nb">set</span> <span class="mi">5</span> <span class="c1"># transect along lon = 128.0</span>
<span class="c1"># project the data within 0.5 degree onto plane</span>
<span class="c1"># output file in order: latitude , depth , residual</span>
<span class="n">gmt</span> <span class="n">project</span> <span class="n">extracted</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">C128</span><span class="mf">.0</span><span class="o">/-</span><span class="mi">12</span> <span class="o">-</span><span class="n">E128</span><span class="mf">.0</span><span class="o">/-</span><span class="mi">6</span> <span class="o">-</span><span class="n">Lw</span> <span class="o">-</span><span class="n">W</span><span class="o">-</span><span class="mf">0.5</span><span class="o">/</span><span class="mf">0.5</span> <span class="o">-</span><span class="n">Fyz</span> <span class="o">&gt;</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span>
<span class="n">gmt</span> <span class="n">plot</span> <span class="n">projected_input</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">JX14c</span><span class="o">/-</span><span class="mi">7</span><span class="n">c</span> <span class="o">-</span><span class="n">R</span><span class="o">-</span><span class="mi">12</span><span class="o">/-</span><span class="mi">6</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">650</span> <span class="o">-</span><span class="n">BwESn</span> <span class="o">-</span><span class="n">Bya200f40</span> <span class="o">-</span><span class="n">Bxa2f0</span><span class="mf">.5</span> <span class="o">-</span><span class="n">Sc4p</span> <span class="o">-</span><span class="n">W0</span><span class="mf">.5</span><span class="n">p</span> <span class="o">-</span><span class="n">Cres</span><span class="o">.</span><span class="n">cpt</span> <span class="c1"># ploting</span>
<span class="n">echo</span> <span class="s2">&quot;lon = 128.0&quot;</span> <span class="o">|</span> <span class="n">gmt</span> <span class="n">text</span> <span class="o">-</span><span class="n">F</span><span class="o">+</span><span class="n">cBL</span><span class="o">+</span><span class="n">f12p</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">black</span> <span class="o">-</span><span class="n">Dj1c</span><span class="o">/</span><span class="mi">1</span><span class="n">c</span> <span class="c1"># adding text</span>

<span class="n">gmt</span> <span class="n">subplot</span> <span class="n">end</span>

<span class="n">gmt</span> <span class="n">colorbar</span> <span class="o">-</span><span class="n">DJBC</span><span class="o">+</span><span class="n">e</span><span class="o">+</span><span class="n">w8c</span><span class="o">+</span><span class="n">o1c</span> <span class="o">-</span><span class="n">Cres</span><span class="o">.</span><span class="n">cpt</span> <span class="o">-</span><span class="n">Bxa1</span><span class="o">+</span><span class="n">L</span><span class="s2">&quot;RMS residuals (s)&quot;</span>
<span class="n">gmt</span> <span class="n">end</span>
</pre></div>
</div>
<p>To reproduce it by yourself, you may first download or save <a class="reference download internal" download="" href="../_downloads/1ba9796a95c9efaca342deeca20b66ac/banda_arc_catalog.txt"><code class="xref download docutils literal notranslate"><span class="pre">banda_arc_catalog.txt</span></code></a> and then move this files into your working directory. Try to copy the above commands and run them on your own computer to see if you can generate the same figure without warning or error.</p>
<p><strong>You may go to the</strong> <a class="reference external" href="https://docs.generic-mapping-tools.org/6.3/index.html">official tutorial website of GMT v6.3</a> <strong>for more exploring</strong></p>
</div>
</div>
<div class="section" id="excercises">
<h2>Excercises<a class="headerlink" href="#excercises" title="Permalink to this headline"></a></h2>
<div class="section" id="reproduce-figure-1-in-the-paper">
<h3>Reproduce figure 1 in the paper<a class="headerlink" href="#reproduce-figure-1-in-the-paper" title="Permalink to this headline"></a></h3>
<blockquote>
<div><ol class="arabic simple">
<li><p>include the base map and other samples (including the station, plate boundary, subduct direction arrows, and so on)</p></li>
<li><p>plot the station name, filled the station samples by yellow, and the station list in Unix command by red.</p></li>
<li><p>add a scale to the figure.</p></li>
<li><p>plot the map view cross-section, mark two ends of it with “A” and “A’”. The cross-section should cross through the “MMRI” station, and with a length of 300 km, strike 30 degrees west of north</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="plot-a-cross-section-plot-based-on-the-catalog-generated-in-the-unix-command-tutorial">
<h3>Plot a cross-section plot based on the catalog generated in the Unix command tutorial<a class="headerlink" href="#plot-a-cross-section-plot-based-on-the-catalog-generated-in-the-unix-command-tutorial" title="Permalink to this headline"></a></h3>
<blockquote>
<div><ol class="arabic simple">
<li><p>project the earthquake within 30 km to the cross-section.</p></li>
<li><p>Scale the circles by earthquake magnitude and filled the circle according to their depth.</p></li>
<li><p>marked “A” and “A’” in the figure.</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="plot-the-magnitude-variation-figure-refer-to-figure-4b-in-the-paper">
<h3>Plot the magnitude variation figure. Refer to Figure 4b in the paper<a class="headerlink" href="#plot-the-magnitude-variation-figure-refer-to-figure-4b-in-the-paper" title="Permalink to this headline"></a></h3>
<blockquote>
<div><ol class="arabic simple">
<li><p>used stars to represent 10 maximum magnitude earthquakes. and label the magnitude of the largest one.</p></li>
<li><p>filled the circle according to their depth.</p></li>
</ol>
</div></blockquote>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../GMT6-1/index.html" class="btn btn-neutral float-left" title="Generic Mapping Tools - Topographic Map" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../obspy-1/index.html" class="btn btn-neutral float-right" title="Seismic data request via ObsPy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2022, CUSeisTut team.
      <span class="lastupdated">Last updated on 2022-06-16.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>